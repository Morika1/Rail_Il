package railIl;

import java.util.ArrayList;
import java.util.Scanner;

public class Travel implements Comparable<Travel> {

	private ArrayList<Station> stations;

	public Travel(int numOfTotalStations, Scanner scan) throws Exception {

		this.stations = new ArrayList<Station>();
		for (int i = 0; i < numOfTotalStations; i++) {
			System.out.println("Please enter the name of station " + (i + 1));
			scan.nextLine();
			String station = scan.nextLine();
			System.out.println("What is station's leaving/arrival time?");
			String time = scan.next();
			stations.add(new Station(station, setTime(time)));
			stations.get(i).setStationName(station);

		}

	}

	public Clock setTime(String time) throws Exception {
		if (!(time.contains(":")))
			throw new Exception("Hours and minutes must be seperate with :");

		String[] parts = time.split(":");
		Clock c = new Clock(Integer.parseInt(parts[0]), Integer.parseInt(parts[1]));
		return c;

	}

	public ArrayList<Station> getStations() {
		return stations;
	}

	@Override
	public String toString() {
		StringBuffer sb = new StringBuffer();
		sb.append("Travel details:\n");
		for (int i = 0; i < stations.size(); i++) {
			sb.append(stations.get(i).toString());
		}

		return sb.toString();
	}

	public void showTravelDetails() {
		System.out.println(this.toString());
	}

	@Override
	public int compareTo(Travel travel) {

		int startTimeByHours = stations.get(0).getLeavingTime().getHours();
		int startTimeByMinutes = stations.get(0).getLeavingTime().getMinutes();
		int objectStartTimeByHours = travel.getStations().get(0).getLeavingTime().getHours();
		int objectStartTimeByMinutes = travel.getStations().get(0).getLeavingTime().getMinutes();

		if (startTimeByHours < objectStartTimeByHours)
			return -1;

		else if (startTimeByHours == objectStartTimeByHours) {
			if (startTimeByMinutes < objectStartTimeByMinutes)
				return -1;

			if (startTimeByMinutes > objectStartTimeByMinutes)
				return 1;

			else
				return 0;

		} else
			return 1;

	}

}
